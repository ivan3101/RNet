<form class="ui large form" [formGroup]="registerForm" [ngClass]="{
'error': !registerForm.valid && registerForm.touched,
'success': registered
}">
  <div class="ui success message">
    <div class="header">Exito!</div>
    <p>Se ha registrado correctamente</p>
  </div>
  <div class="field required">
    <div class="ui error message" *ngIf="!registerForm.get('fullname.firstname').valid && registerForm.get('fullname.firstname').touched">
      <div class="header">Campo requerido</div>
      <p>Debe ingresar su primer nombre</p>
    </div>
    <div class="ui error message" *ngIf="!registerForm.get('fullname.lastname').valid && registerForm.get('fullname.lastname').touched">
      <div class="header">Campo requerido</div>
      <p>Debe ingresar su primer apellido</p>
    </div>
    <label for="firstname">Nombre Completo</label>
    <div class="two fields" formGroupName="fullname">
      <div class="eight wide required field" [ngClass]="{'error': !registerForm.get('fullname.firstname').valid && registerForm.get('fullname.firstname').touched}">
        <input type="text" id="firstname" placeholder="Primer Nombre" formControlName="firstname">
      </div>
      <div class="eight wide field" [ngClass]="{'error': !registerForm.get('fullname.lastname').valid && registerForm.get('fullname.lastname').touched}">
        <input type="text" id="lastname" placeholder="Primer Apellido" formControlName="lastname">
      </div>
    </div>
  </div>
  <div class="field required" [ngClass]="{'error': !registerForm.get('email').valid && registerForm.get('email').touched}">
    <div class="ui error message" *ngIf="!registerForm.get('email').valid && registerForm.get('email').touched">
      <div class="header">Campo requerido</div>
      <p>Debe ingresar su correo electronico</p>
    </div>
    <label for="email">Correo Electronico</label>
    <input type="email" id="email" formControlName="email" placeholder="Correo Electronico">
  </div>
  <div class="field required" [ngClass]="{'error': !registerForm.get('username').valid && registerForm.get('username').touched}">
    <div class="ui error message" *ngIf="!registerForm.get('username').valid && registerForm.get('username').touched">
      <div class="header">Campo requerido</div>
      <p>Debe ingresar un nombre de usuario</p>
    </div>
    <label for="username">Nombre de usuario</label>
    <input type="text" id="username" placeholder="Nombre de usuario" formControlName="username">
  </div>
  <div class="field">
    <div class="ui error message" *ngIf="!registerForm.get('password.newPassword').valid && registerForm.get('password.newPassword').touched">
      <div class="header">Campo requerido</div>
      <p>Debe ingresar una contraseña</p>
    </div>
    <div class="ui error message" *ngIf="!registerForm.get('password.confirmPassword').valid && registerForm.get('password.confirmPassword').touched">
      <div class="header">Campo requerido</div>
      <p>Debe confirmar su contraseña</p>
    </div>
    <div class="two fields" formGroupName="password">
      <div class="field required" [ngClass]="{'error': !registerForm.get('password.newPassword').valid && registerForm.get('password.newPassword').touched}">
        <label for="newPassword">Contraseña</label>
        <input type="password" id="newPassword" placeholder="Contraseña" formControlName="newPassword">
      </div>
      <div class="field required" [ngClass]="{'error': !registerForm.get('password.confirmPassword').valid && registerForm.get('password.confirmPassword').touched}">
        <label for="newPassword">Confirme su Contraseña</label>
        <input type="password" id="confirmPassword" placeholder="Vuelva a escribir su contraseña" formControlName="confirmPassword">
      </div>
    </div>
  </div>
  <button class="ui button submit" type="submit" (click)="onSubmit()" [disabled]="!registerForm.valid">Registrarse</button>
</form>
